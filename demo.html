<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Registration Page</title>
</head>
<body>
    <div class="registration-container">
        <h2>Demorgraphic Data</h2>
        <form action="javascript:void(0);" id="registration-form">
            <label for="nationality">Nationality:</label>
            <input type="text" id="nationality" name="full-names" required>

            <label for="language">Language:</label>
            <select name="language" id="language">
                <option value="English">English</option>
                <option value="French">French</option>
            </select>

            <label for="region">Region:</label>
            <select id="region" name="region" required>
                <option value="" disabled selected hidden>Click to select your region of birth</option>
                <option value="Adamawa">Adamawa</option>
                <option value="Centre">Centre</option>
                <option value="East">East</option>
                <option value="Far North">Far North</option>
                <option value="Littoral">Littoral</option>
                <option value="North">North</option>
                <option value="Northwest">Northwest</option>
                <option value="South">South</option>
                <option value="Southwest">Southwest</option>
                <option value="West">West</option>
            </select>

            <label for="race">Race:</label>
            <select name="race" id="race">
                <option value="Bamileke-Bamu">Bamileke-Bamu</option>
                <option value="Beti/Bassa, Mbam">Beti/Bassa, Mbam</option>
                <option value="Biu-Mandara">Biu-Mandara</option>
                <option value="Adamawa-Ubangi">Adamawa-Ubangi</option>
                <option value="Grassfields">Grassfields</option>
                <option value="Kako, Meka/Pygmy">Kako, Meka/Pygmy</option>
                <option value="Cotier/Ngoe/Oroko">Cotier/Ngoe/Oroko</option>
            </select>

        </form>
        <button type="button" id="button" onclick="submitRegistration()">Next</button>
        <div class="admin-link-container">
            <a href="dashboard.html">Are you an Admin?</a>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    
        const firebaseConfig = {
            apiKey: "your-api-key",
            authDomain: "your-auth-domain",
            projectId: "your-project-id",
            storageBucket: "your-storage-bucket",
            messagingSenderId: "your-messaging-sender-id",
            appId: "your-app-id"
        };
    
        const app = initializeApp(firebaseConfig);
        const firestore = getFirestore(app);
    
        window.submitRegistration = async function() {
            const nationality = document.getElementById("nationality").value;
            const language = document.getElementById("language").value;
            const region = document.getElementById("region").value;
            const race = document.getElementById("race").value;
    
            const userData = {
                nationality,
                language,
                region,
                race,
            };
    
            const docRef = await addDoc(collection(firestore, 'registrations'), userData);
    
            alert("Your information has been submitted successfully! Document ID: " + docRef.id);
        };
    </script>
    
    
</body>
</html>
